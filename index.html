<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Mi-freebsd by jacques</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Mi-freebsd</h1>
        <p>FreeBSD Machine Image for SmartOS and SmartDataCenter</p>

        <p class="view"><a href="https://github.com/jacques/mi-freebsd">View the Project on GitHub <small>jacques/mi-freebsd</small></a></p>


        <ul>
          <li><a href="https://github.com/jacques/mi-freebsd/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/jacques/mi-freebsd/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/jacques/mi-freebsd">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a name="textdrive-freebsd-machine-image-builder" class="anchor" href="#textdrive-freebsd-machine-image-builder"><span class="octicon octicon-link"></span></a>TextDrive FreeBSD Machine Image Builder</h1>

<p>Originally forked from work I did to migrate my FreeBSD gateway box at
the TextDrive Cape Town office that does multiple PPPoE links to run
under KVM on SmartOS.</p>

<p>At TextDrive we built a FreeBSD 9.1-RELEASE-p3 KVM image for running
ontop of SmartOS in my spare time as a stop-gap to migrating legacy
FreeBSD Servers over to running inside zones on SmartOS for our
Shared Hosting product.</p>

<p>As part of the work building the template (we use a truck load of
Chef and custom compiled packages) as well as building in FreeBSD
specific bits.</p>

<p>The template built provides various bits and gets data from the
meta data API (either flat files on SmartOS or from
SmartDataCenter's Metadata API).</p>

<p>There are various patches from 3rd parties in the community which
we leverage to get a base image going.</p>

<h2>
<a name="meta-data-keys" class="anchor" href="#meta-data-keys"><span class="octicon octicon-link"></span></a>Meta Data Keys</h2>

<table>
<tr>
<th>Key</th>
    <th>Type</th>
    <th>Description</th>
    <th>Default</th>
  </tr>
<tr>
<td>builder</td>
    <td>boolean</td>
    <td>Whether we should not run finalisation scripts</td>
    <td>true</td>
  </tr>
</table><h2>
<a name="post-install" class="anchor" href="#post-install"><span class="octicon octicon-link"></span></a>Post Install</h2>

<h3>
<a name="switch-out-native-drivers-for-virtio-drivers" class="anchor" href="#switch-out-native-drivers-for-virtio-drivers"><span class="octicon octicon-link"></span></a>Switch out native drivers for virtio drivers</h3>

<ul>
<li>Download the latest drivers from <a href="http://people.freebsd.org/%7Ekuriyama/virtio/">http://people.freebsd.org/~kuriyama/virtio/</a>
</li>
</ul><p>Requires work in the global zone to switch out the driver in the zone xml file.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/jacques">jacques</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>